<!DOCTYPE html>
<html>
  <head>
    <title>join Method Test</title>
  </head>
  <body>
<script src="../simpleTest.js"></script>
<script>

// Syntax: arr.join([separator])

// Arguments: 
// Separator [optional]: Specifies a string to separate each pair of adjacent elements of the array. The separator is converted to a string if necessary. If omitted, the array elements are separated with a comma (","). If separator is an empty string, all elements are joined without any characters in between them.

// Return: A string with all array elements joined. If arr.length is 0, the empty string is returned.

//It should create and return a new string by concatenating all of the elements in an array.
//If separator property is defined, it should return a new string with the separator argument between the elements.
//If separator property is an empty element it should return the new string without any separation between elements.
//If the array only has one element then it should return that element without a separator.
//If array.length === 0 then it should return an empty string.
//If an element is undefined or null it should return an empty string.


function join(array, separator) {
  var newString = "";
  var between = ",";

  if (arguments.length > 1) {
	between = separator;
}

  for(var i = 0; i < array.length; i++) {
    
    if (array[i] === undefined || null) {
      array[i] = "";
    }
  	if (i < array.length -1) {
      newString = newString + array[i] + between;
    }else{
      newString = newString + array[i];
}
}
	return newString;
}

tests({
'It should create and return a new string by concatenating all of the elements in an array.': function() {
  var result = join([1, 2]);
  eq(result, "1,2");
},
'If separator property is defined, it should return a new string with the separator argument between the elements.': function() {
  var result = join([1, 2], '-');
  eq(result, "1-2");
},
'If separator property is an empty element it should return the new string without any separation between elements.': function() {
  var result = join([1, 2], '');
  eq(result, "12");
},
'If the array only has one element then it should return that element without a separator.': function() {
  var result = join([1]);
  eq(result, "1");
},
'If array.length === 0 then it should return an empty string.': function() {
  var result = join([]);
  eq(result, "");
},
'If an element is undefined or null it should return an empty string.': function() {
  var result = join([1,,2]);
  eq(result, "1,,2");
},
'If the separator is a primitive it should convert it to a string if necessary.': function() {
  var result = join([1, 2], false);
  eq(result, "1false2");
},
'If the separator is an object or object property it should convert it to a string if necessary.': function() {
  var myObject = {color: 'red', shape: 'box'}

  var result = join([1, 2], myObject);
  eq(result, "1[object Object]2")
  var result = join([1, 2], myObject.color);
  eq(result, '1red2');
},
});
</script>
</body>
</html>