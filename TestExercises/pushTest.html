<!DOCTYPE html>
<html>
  <head>
    <title>push Method Test</title>
  </head>
  <body>
<script src="../simpleTest.js"></script>
<script>

// Syntax: arr.push(element1[, ...[, elementN]])

// Arguments: 
// elementN - The elements to add to the end of the array. 

// Return: The push() method adds one or more elements to the end of an array and returns the new length of the array.

// It should return the new length of the object upon which the method was called.
// It should append a value to the end of the array starting at array.length.
// It should be able to append multiple values to the end of the array starting at array.length.
// If array.length cannot be converted into a number, values should be added starting at index 0.
// If the array to be appended to is length === 0 length will be created.
// It should append all elements from a second array using apply().
// It should be applicable to objects by using apply or call.

Array.prototype.pushThis = function (element) {
  var insertPosition = this.length;
  
  for(var i = 0; i < arguments.length; i++) {
    var addValue = arguments[i];
    this[insertPosition++] = addValue;
  }
    return this.length;
}

tests({
'It should return the new length property of the object upon which the method was called.': function() {
  var testArray = [1];
  var testArrayLength = testArray.pushThis(3);
  eq(testArrayLength, 2);
},
'It should append a value to the end of the array starting at array.length.': function() {
  var testArray = [1];
  var testArrayLength = testArray.pushThis(3);
  eq(testArray[1], 3);
},
'It should be able to append multiple values to the end of the array starting at array.length.': function() {
  var testArray = [1];
  var testArrayLength = testArray.pushThis(3, 4);
  eq(testArray[2], 4);
},
'If array.length cannot be converted into a number, values should be added starting at index 0.': function() {
  var testObj = [];
    testObj['blue'] = 1;
  var testObjLength = testObj.pushThis(3);
  eq(testObjLength, 1);
  eq(testObj, 3);
},
'If the array to be appended to is length === 0 length will be created.': function() {
  var testObj = [];
  var testObjLength = testObj.pushThis(3);
  eq(testObjLength, 1);
},
'It should append all elements from a second array using apply().': function() {
  var testObjThis = [1];
  var testObjArray = [3, 4];
  var testObjLength = testObjThis.pushThis.apply(testObjThis, testObjArray);
  eq(testObjLength, 3);
  eq(testObjThis[1], 3);
  eq(testObjThis[2], 4);
},
'It should append all elements not in an array using call().': function() {
  var testObjThis = [1];
  var testObjLength = testObjThis.pushThis.call(testObjThis, 3, 4);
  eq(testObjLength, 3);
},
});
</script>
</body>
</html>