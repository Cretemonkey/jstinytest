<!DOCTYPE html>
<html>
  <head>
    <title>unshift Method Test</title>
  </head>
  <body>
<script src="../simpleTest.js"></script>
<script>

// Syntax: arr.unshift(element1[, ...[, elementN]])

// Parameters: elementN, the elements to add to the front of the arr.

// Return: The new length property of the object upon which the method was called.

// It should insert the given values to the beginning of an array-like object.
// It should return the new length of the array.
// It should insert the values entered in one group in order at the beginning of the array.
// If no element it should return the length of the original object.
// It should work if the original array has holes.
// If an array is entered as an element (e.g. [1, 2]) it should be inserted in a single index and add 1 to original array       length.
// It should be able to use .apply on objects resembling arrays. 
// It should be able to use .call on objects resembling arrays.

Array.prototype.unshiftThis = function() {
  var length = this.length;
  var totalLength = length + arguments.length -1;
  
    for(var i = totalLength; i >= 0; i--) { 
      this[i] = this[length -1];
      length--;
    }

    for(var a = 0; a < arguments.length; a++) {
      this[a] = arguments[a];
    }

    if (Array.isArray(this) === false) {
      this.length = this.length + arguments.length;
    }
      return this.length;
  };

tests({
'It should insert the given values to the beginning of an array-like object.': function() {
  var testArray = [1];
  testArray.unshiftThis(3);
  eq(testArray[0], 3);
  },
'It should return the new length of the array.': function() {   
  var testArray = [1];
  var testArrayLength = testArray.unshiftThis(3);
  eq(testArrayLength, 2);
},
'It should insert the values entered in one group in order at the beginning of the array.': function() {
  var testArray = [1];
  testArray.unshiftThis(2, 3);
  eq(testArray[0], 2);
  eq(testArray[1], 3);
  eq(testArray[2], 1);
},
'If no element it should return the length of the original object.': function() {   
  var testArray = [1];
  var testArrayLength = testArray.unshiftThis();
  eq(testArrayLength, 1);
},
'It should work if the original array has holes.': function() { 
  var testArray = [,,,];
  var testArrayLength = testArray.unshiftThis(1);
  eq(testArrayLength, 4);
  eq(testArray[0], 1);
  eq(testArray[1], undefined);
},
'If an array is entered as an element (e.g. [1, 2]) it should be inserted in a single index and add 1 to original array length.': function() {
  var testArray = [1];
  var testArrayLength = testArray.unshiftThis([2, 3]);
  eq(testArrayLength, 2);
  eq(testArray[0][0], 2);
  eq(testArray[0][1], 3);
  eq(testArray[1], 1);
},
'It should be able to use .apply on objects resembling arrays.': function() {
  var testObj = {
    0: 'mike',

    length: 1,
  };
  Array.prototype.unshiftThis.apply(testObj, [1]);
  eq(testObj[0], 1);
  eq(testObj[1], "mike");
  eq(testObj.length, 2);
},
'It should be able to use .call on objects resembling arrays.': function() {
  var testObj = {
    0: 'mike',

    length: 1,
  };
  Array.prototype.unshiftThis.call(testObj, 1);
  eq(testObj[0], 1);
  eq(testObj[1], "mike");
  eq(testObj.length, 2); 
},
});
</script>
</body>
</html>